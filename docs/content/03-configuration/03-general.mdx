---
title: React Router Devtools General Configuration
summary: "General configuration covers plugin directory setup, TanStack DevTools integration, and controlling whether client or server parts of React Router Devtools are included in production."
description: General Configuration options for the React Router Devtools
---

This covers the general configuration options for the React Router Devtools.

## General Config Type

```ts
type ReactRouterViteConfig = {
  client?: Partial<RdtClientConfig>
  server?: DevToolsServerConfig
  pluginDir?: string
  includeInProd?: {
    client?: boolean
    server?: boolean
    devTools?: boolean
  }
  tanstackConfig?: Omit<Partial<TanStackDevtoolsConfig>, "customTrigger">
  tanstackClientBusConfig?: Partial<ClientEventBusConfig>
  tanstackViteConfig?: TanStackDevtoolsViteConfig
}
```

<InfoAlert>
You can find more info on TanStack specific configuration options here:
https://tanstack.com/devtools/latest/docs/overview
</InfoAlert>

## `pluginDir`

The relative path to your plugin directory. If you have a directory for react-router-devtools plugins you can point to it and they
will be automatically imported and added to the dev tools.

**Example:**
```ts
import { reactRouterDevTools } from "react-router-devtools";

export default defineConfig({
  plugins: [
    reactRouterDevTools({
      pluginDir: "./plugins"
    }),
    reactRouter(),
  ],
});
```

## `includeInProd`

This option is used to set whether parts of the plugin should be included in production builds or not.

By default, all parts are excluded from production builds. You can selectively include different parts:

- **`client`**: Include the devtools UI in production
- **`server`**: Include server-side logging and utilities in production
- **`devTools`**: Include TanStack DevTools integration in production

```ts
includeInProd?: {
  client?: boolean    // Default: false
  server?: boolean    // Default: false
  devTools?: boolean  // Default: false
}
```

**Example:**
```ts
import { reactRouterDevTools } from "react-router-devtools";

export default defineConfig({
  plugins: [
    reactRouterDevTools({
      includeInProd: {
        client: false,
        server: true,  // Include server logs in production
        devTools: false
      },
    }),
    reactRouter(),
  ],
});
```

<WarningAlert title="Be careful!">
If you decide to deploy parts to production you should be very careful that you don't expose the dev tools to your clients or anybody
who is not supposed to see them.

**Important notes:**
- The server part uses chalk which might not work in non-node environments
- If you wish to edit the plugin server config in production, you can set `process.rdt_config` to an object with the same shape as the config object and it will be used instead of the default production config (`{ silent: true }`)
- Consider adding authentication/authorization checks before exposing devtools in production
</WarningAlert>

## TanStack DevTools Integration

React Router Devtools v6+ integrates with TanStack DevTools, providing enhanced debugging capabilities. You can configure TanStack-specific behavior through these options:

### `tanstackConfig`

Configure the TanStack DevTools behavior and appearance.

```ts
tanstackConfig?: Omit<Partial<TanStackDevtoolsConfig>, "customTrigger">
```

<InfoAlert>
The `customTrigger` option is automatically managed by React Router Devtools and cannot be configured manually.

All the options are available here:
https://tanstack.com/devtools/latest/docs/configuration
</InfoAlert>

**Common options:**
```ts
import { reactRouterDevTools } from "react-router-devtools";

export default defineConfig({
  plugins: [
    reactRouterDevTools({
      tanstackConfig: {
        position: "bottom-right",        // Position of the devtools trigger
        // Add other TanStack config options as needed
      }
    }),
    reactRouter(),
  ],
});
```


### `tanstackClientBusConfig`

Configure the TanStack client event bus for advanced use cases.

```ts
tanstackClientBusConfig?: Partial<ClientEventBusConfig>
```

This is an advanced option for customizing how TanStack DevTools communicates between client and server. Most users won't need to configure this.

**Example:**
```ts
import { reactRouterDevTools } from "react-router-devtools";

export default defineConfig({
  plugins: [
    reactRouterDevTools({
      tanstackClientBusConfig: {
        // Advanced event bus configuration
      }
    }),
    reactRouter(),
  ],
});
```

### `tanstackViteConfig`

Configure the TanStack Vite plugin directly for advanced scenarios.

```ts
tanstackViteConfig?: TanStackDevtoolsViteConfig
```

This allows you to pass configuration directly to the underlying TanStack DevTools Vite plugin.

**Example:**
```ts
import { reactRouterDevTools } from "react-router-devtools";

export default defineConfig({
  plugins: [
    reactRouterDevTools({
      tanstackViteConfig: {
        // TanStack Vite plugin configuration
      }
    }),
    reactRouter(),
  ],
});
```

<InfoAlert>
You can find more info on TanStack specific configuration options here:
https://tanstack.com/devtools/latest/docs/plugin-configuration
</InfoAlert>

## Complete Configuration Example

Here's a complete example showing all general configuration options:

```ts
import { defineConfig } from 'vite'
import { reactRouter } from '@react-router/dev/vite'
import { reactRouterDevTools, defineRdtConfig } from "react-router-devtools"

const rdtConfig = defineRdtConfig({
  // Client configuration
  client: {
    expansionLevel: 2,
    routeBoundaryGradient: "gotham",
  },

  // Server configuration
  server: {
    silent: false,
    logs: {
      loaders: true,
      actions: true,
    }
  },

  // Plugin directory
  pluginDir: "./plugins",

  // Production inclusion
  includeInProd: {
    client: false,
    server: true,
    devTools: false,
  },

  // TanStack DevTools configuration
  tanstackConfig: {
    position: "bottom-right",
    buttonPosition: "bottom-right",
  },

  // TanStack client bus configuration (advanced)
  tanstackClientBusConfig: {
    // Custom event bus config if needed
  },

  // TanStack Vite plugin configuration (advanced)
  tanstackViteConfig: {
    // Custom Vite plugin config if needed
  }
})

export default defineConfig({
  plugins: [
    reactRouterDevTools(rdtConfig),
    reactRouter(),
  ],
})
```

## Using `defineRdtConfig`

The `defineRdtConfig` helper provides type safety for your configuration:

```ts
import { defineRdtConfig } from "react-router-devtools"

const config = defineRdtConfig({
  // Your configuration with full TypeScript support
  client: {
    expansionLevel: 2,
  },
  tanstackConfig: {
    position: "bottom-right",
  }
})

export default config
```

You can then import and use this configuration in your `vite.config.ts`:

```ts
import { reactRouterDevTools } from "react-router-devtools"
import rdtConfig from "./rdt.config"

export default defineConfig({
  plugins: [
    reactRouterDevTools(rdtConfig),
    reactRouter(),
  ],
})
```
